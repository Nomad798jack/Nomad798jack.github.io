<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
        content="wigth=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Broshevick</title> 
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap');

            *{
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body{
                font-family: 'Oswald', sans-serif;
                font-weight: 2000;
                color:cornsilk;
                background-color:rgb(77, 12, 255);
                width: 400px;
            }

            #main {
                width: 100%;
                padding: 20px;
                text-align: center;
            }

            h1 {
                font-size: 30px;
                padding: 10px 20px 20px 50px;
            }

            img {
                width: 200px;
                margin: 0 200px 20px 95px;
            }

             /* p {
                width: 100px;
                margin-top: 5px;
                font-size: 20px;
            }  */

            button {
                border: 1;
                border-radius: 10px;
                height: 40px;
                font-size: 15px;
                margin-left: 30px;
                cursor: pointer;
                transition: all 500ms ease;
                color:bisque;
                background-color:rgb(51, 77, 51);
            }

            button:hover{
                background-color:dimgrey;
            }

            #form {
                display: none;
                text-align: center;
            }

            input {
                width: 90%;
                outline: none;
                margin: 10px 5%;
                padding: 15px 10px;
                font-size: 15px;
                border: 2px solid silver;
                border-radius: 5px;
            }

            input:focus {
                border-color:dimgray
            }

        </style>
    </head>
    <body>
        <div id="main">
            <h1>Анти-Борщевик</h1>
            <img src="https://www.micoriza.ru/wp-content/uploads/2022/06/%D0%91%D0%BE%D1%80%D1%89%D0%B5%D0%B2%D0%B8%D0%BA-%D1%81%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D1%81%D0%BA%D0%BE%D0%B3%D0%BE.jpg">
            <button id="verify">Подтвердить</button>
        </div>
        <form id="form">
            <input type="text" placeholder="Фамилия Имя" id="user_name">
            <input type="text" placeholder="Email" id="user_email">
            <input type="text" placeholder="Номер телефона" id="user_phone">
            <div id="error"></div>
            <button id="send">Отправить</button>
        </form>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <script>
            let tg = window.Telegram.WebApp;
            let verify = document.getElementById("verify");
            let send = document.getElementById("send");
            tg.expand();

            verify.addEventListener("click", () => {
                document.getElementById("main").style.display = "none";
                document.getElementById("form").style.display = "block";
            });

            send.addEventListener("click", () => {
                tg.close();
                tg.close();
                // document.getElementById("error").innerText = '';
                // let name = document.getElementById("user_name").value;
                // let email = document.getElementById("user_email").value;
                // let phone = document.getElementById("user_phone").value;
                // if(name.length < 2) {
                //     document.getElementById("error").innerText = 'Ошибка в имени';
                //     return;
                // }
                // if(email.length < 5) {
                //     document.getElementById("error").innerText = 'Ошибка в email';
                //     return;
                // }
                // if(phone.length < 10) {
                //     document.getElementById("error").innerText = 'Ошибка в номере телефона';
                //     return;
                // }
                // let data = {
                //     name: name,
                //     email: email,
                //     phone: phone
                // }
                // tg.sendData(JSON.stringify(data));
                
            });


        </script>
    </body>
</html>